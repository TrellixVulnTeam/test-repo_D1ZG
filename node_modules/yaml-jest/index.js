'use strict';

var _crypto = require('crypto');

var _crypto2 = _interopRequireDefault(_crypto);

var _jsYaml = require('js-yaml');

var _jsYaml2 = _interopRequireDefault(_jsYaml);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var getCacheKey = function getCacheKey(fileData, filePath, configString, options) {
  return _crypto2.default.createHash('md5').update(fileData).update(configString).digest('hex');
};

var process = function process(sourceText, sourcePath, config, options) {
  var result = _jsYaml2.default.safeLoad(sourceText);
  var json = JSON.stringify(result, undefined, '\t');
  return 'module.exports = ' + json;
};

var transformer = {
  getCacheKey: getCacheKey,
  process: process
};

module.exports = transformer;